jQuery(document).ready(function($){$(".sidebar .scroll-mb").scroll(function(){var sidebarSectionsHeight=$(".sidebar__sections").height();var scrollHeight=$(".sidebar .scroll-mb").scrollTop();if(scrollHeight+sidebarSectionsHeight>=$(".sidebar__sections")[0].scrollHeight){$(".sidebar .sidebar__sections--wrap").addClass("scrolled-hidden");}else{$(".sidebar .sidebar__sections--wrap").removeClass("scrolled-hidden");}});function redirect(url){window.location.href=url;}
$('.sidebar__sections--wrap .sidebar__sections--item').each(function(){if($(this).find('ul li').length>0){$(this).addClass('show');$(this).find('a').not(':first').click(function(e){redirect($(this).attr('href'));});$(this).children('a').first().click(function(e){e.preventDefault();$(this).parent().toggleClass('active');$(this).parent().find('ul').slideToggle();});}else{let url=$(this).children('a').first().attr('href');$(this).children('a').first().click(function(e){redirect(url);});}});});document.addEventListener("DOMContentLoaded",function(){const buttonExpand=document.querySelector(".president-office__btn");const boxExpand=document.querySelector(".president-office");const textExpand=document.querySelector(".president-office__textexpand");const cardcontentText=document.querySelectorAll(".history-tree__cardcontent-text");const header=document.querySelector(".james_header");const topBar=document.querySelector(".james_top_bar");const breadCumb=document.querySelector(".breadcumb__global");boxExpand.querySelector(".president-office__boxtext").style.height=boxExpand.querySelector(".president-office__boxtext").scrollHeight*0.5+"px";buttonExpand.addEventListener("click",function(){boxExpand.classList.toggle("expanded");if(boxExpand.classList.contains("expanded")){boxExpand.querySelector(".president-office__boxtext").style.height=boxExpand.querySelector(".president-office__boxtext").scrollHeight+"px";}else{boxExpand.querySelector(".president-office__boxtext").style.height=boxExpand.querySelector(".president-office__boxtext").scrollHeight*0.5+"px";}
let textSeeMore,textCollapse;if(fulbright.lang==="en"){textSeeMore="See more";textCollapse="Collapse";}else{textSeeMore="Xem thêm";textCollapse="Thu gọn";}
var buttonText=boxExpand.classList.contains("expanded")?textCollapse:textSeeMore;textExpand.textContent=buttonText;});cardcontentText.forEach((item)=>{const div=document.createElement("div");div.className="history-tree__cardcontent-overlay";item.insertAdjacentElement("beforeend",div);});window.addEventListener("scroll",function(){const windowHeight=window.innerHeight;const timeline=document.getElementById("timeline");const timelinePosition=timeline.getBoundingClientRect().top;if(timelinePosition-windowHeight<=0){const timelineElements=document.querySelectorAll(".history-tree__timeline");timelineElements.forEach(function(element,index){setTimeout(function(){element.classList.add("animate");const text=element.textContent.trim();},index*1000);});const headerHeight=header.offsetHeight;const topBarHeight=topBar.offsetHeight;const breadCumbHeight=breadCumb.offsetHeight;const cardcontentYear=document.querySelectorAll(".history-tree__cardcontent-year");cardcontentYear.forEach((item,id)=>{const catchYearPositionTop=item.getBoundingClientRect().top;const locateY=catchYearPositionTop-
headerHeight-
topBarHeight-
breadCumbHeight-
375;if(locateY<=0){item.classList.add("active");}});cardcontentText.forEach((item,id)=>{const sectionTop=item.getBoundingClientRect().top;const gap=sectionTop-headerHeight-topBarHeight-breadCumbHeight-300;if(gap<=0){item.querySelector(".history-tree__cardcontent-overlay").classList.add("active");}});}
this.removeEventListener("scroll",this);});if(window.innerWidth<=767){const textRedirectCurrent=document.querySelector(".tablet-redirect");const textHappenChange=document.querySelectorAll(".james__news .title_block");textRedirectCurrent.innerText="Home";textHappenChange.forEach((element)=>{element.innerText="See what's happening @Fulbright";});}
if(window.innerWidth<=767){const textRedirectCurrent=document.querySelector(".tablet-redirect");const textHappenChange=document.querySelectorAll(".james__news .title_block");textRedirectCurrent.innerText="Home";textHappenChange.forEach((element)=>{element.innerText="Keep up with the latest Fulbright news";});}});